{% include Draft %}

Write access to the wiki can be controlled in two ways:

1. **Wiki policy.** This can be configured in the configuration file and applies to the whole wiki.

2. **Page ACL.** This applies to individual pages. For example, you can add editors to a specific page to grant them access.

Policy structure:

- `permission`
- `userId`
- `team`
- `page`
- `frontmatterKey`

Permissions:

- `edit` - Can edit the page content and its front-matter. 
  - `editContent` — Can edit the content but not its front-matter.

Draft algo:

1. Given a set of contexts (permissions and filter), find candidate policies, e.g.

   ```
   userContext = { userId: '...', team: ExpensiveOperation }
   pageContext = { page: '...' }

   [
     { ...userContext, ...pageContext, permission: 'editContent' },
     { ...userContext, ...pageContext, permission: 'edit', frontmatterKey: 'title' },
   ]
   ```

2. If any policy applies without any pending ExpensiveOperation, consider it granted.

3. Resolve the remaining ExpensiveOperation’s. If any policy applies, consider it granted.

4. If all cases failed, consider it denied.

